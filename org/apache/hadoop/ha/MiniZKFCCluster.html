<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Wed Jun 10 18:00:45 EDT 2015 -->
<title>MiniZKFCCluster</title>
<meta name="date" content="2015-06-10">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MiniZKFCCluster";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MiniZKFCCluster.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/hadoop/ha/HealthMonitor.State.html" title="enum in org.apache.hadoop.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/hadoop/ha/NodeFencer.html" title="class in org.apache.hadoop.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/hadoop/ha/MiniZKFCCluster.html" target="_top">Frames</a></li>
<li><a href="MiniZKFCCluster.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.ha</div>
<h2 title="Class MiniZKFCCluster" class="title">Class MiniZKFCCluster</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.ha.MiniZKFCCluster</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">MiniZKFCCluster</span>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Harness for starting two dummy ZK FailoverControllers, associated with
 DummyHAServices. This harness starts two such ZKFCs, designated by
 indexes 0 and 1, and provides utilities for building tests around them.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#MiniZKFCCluster(org.apache.hadoop.conf.Configuration,%20org.apache.zookeeper.server.ZooKeeperServer)">MiniZKFCCluster</a></strong>(<a href="../../../../org/apache/hadoop/conf/Configuration.html" title="class in org.apache.hadoop.conf">Configuration</a>&nbsp;conf,
               org.apache.zookeeper.server.ZooKeeperServer&nbsp;zks)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#expireActiveLockHolder(int)">expireActiveLockHolder</a></strong>(int&nbsp;idx)</code>
<div class="block">Expire the ZK session of the given service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#expireAndVerifyFailover(int,%20int)">expireAndVerifyFailover</a></strong>(int&nbsp;fromIdx,
                       int&nbsp;toIdx)</code>
<div class="block">Expires the ZK session associated with service 'fromIdx', and waits
 until service 'toIdx' takes over.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/hadoop/ha/ActiveStandbyElector.html" title="class in org.apache.hadoop.ha">ActiveStandbyElector</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#getElector(int)">getElector</a></strong>(int&nbsp;i)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.ha.DummyHAService</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#getService(int)">getService</a></strong>(int&nbsp;i)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/hadoop/test/MultithreadedTestUtil.TestContext.html" title="class in org.apache.hadoop.test">MultithreadedTestUtil.TestContext</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#getTestContext()">getTestContext</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>org.apache.hadoop.ha.MiniZKFCCluster.DummyZKFC</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#getZkfc(int)">getZkfc</a></strong>(int&nbsp;i)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#setFailToBecomeActive(int,%20boolean)">setFailToBecomeActive</a></strong>(int&nbsp;idx,
                     boolean&nbsp;doFail)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#setFailToBecomeStandby(int,%20boolean)">setFailToBecomeStandby</a></strong>(int&nbsp;idx,
                      boolean&nbsp;doFail)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#setFailToFence(int,%20boolean)">setFailToFence</a></strong>(int&nbsp;idx,
              boolean&nbsp;doFail)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#setHealthy(int,%20boolean)">setHealthy</a></strong>(int&nbsp;idx,
          boolean&nbsp;healthy)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#setUnreachable(int,%20boolean)">setUnreachable</a></strong>(int&nbsp;idx,
              boolean&nbsp;unreachable)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#start()">start</a></strong>()</code>
<div class="block">Set up two services and their failover controllers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#stop()">stop</a></strong>()</code>
<div class="block">Stop the services.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#waitForActiveLockHolder(java.lang.Integer)">waitForActiveLockHolder</a></strong>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;idx)</code>
<div class="block">Wait for the given HA service to become the active lock holder.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#waitForElectorState(int,%20org.apache.hadoop.ha.ActiveStandbyElector.State)">waitForElectorState</a></strong>(int&nbsp;idx,
                   org.apache.hadoop.ha.ActiveStandbyElector.State&nbsp;state)</code>
<div class="block">Wait for the given elector to enter the given elector state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#waitForHAState(int,%20org.apache.hadoop.ha.HAServiceProtocol.HAServiceState)">waitForHAState</a></strong>(int&nbsp;idx,
              <a href="../../../../org/apache/hadoop/ha/HAServiceProtocol.HAServiceState.html" title="enum in org.apache.hadoop.ha">HAServiceProtocol.HAServiceState</a>&nbsp;state)</code>
<div class="block">Wait for the given HA service to enter the given HA state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/hadoop/ha/MiniZKFCCluster.html#waitForHealthState(int,%20org.apache.hadoop.ha.HealthMonitor.State)">waitForHealthState</a></strong>(int&nbsp;idx,
                  <a href="../../../../org/apache/hadoop/ha/HealthMonitor.State.html" title="enum in org.apache.hadoop.ha">HealthMonitor.State</a>&nbsp;state)</code>
<div class="block">Wait for the ZKFC to be notified of a change in health state.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MiniZKFCCluster(org.apache.hadoop.conf.Configuration, org.apache.zookeeper.server.ZooKeeperServer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MiniZKFCCluster</h4>
<pre>public&nbsp;MiniZKFCCluster(<a href="../../../../org/apache/hadoop/conf/Configuration.html" title="class in org.apache.hadoop.conf">Configuration</a>&nbsp;conf,
               org.apache.zookeeper.server.ZooKeeperServer&nbsp;zks)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()
           throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Set up two services and their failover controllers. svc1 is started
 first, so that it enters ACTIVE state, and then svc2 is started,
 which enters STANDBY</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()
          throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Stop the services.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if either of the services had encountered a fatal error</dd></dl>
</li>
</ul>
<a name="getTestContext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTestContext</h4>
<pre>public&nbsp;<a href="../../../../org/apache/hadoop/test/MultithreadedTestUtil.TestContext.html" title="class in org.apache.hadoop.test">MultithreadedTestUtil.TestContext</a>&nbsp;getTestContext()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the TestContext implementation used internally. This allows more
 threads to be added to the context, etc.</dd></dl>
</li>
</ul>
<a name="getService(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getService</h4>
<pre>public&nbsp;org.apache.hadoop.ha.DummyHAService&nbsp;getService(int&nbsp;i)</pre>
</li>
</ul>
<a name="getElector(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElector</h4>
<pre>public&nbsp;<a href="../../../../org/apache/hadoop/ha/ActiveStandbyElector.html" title="class in org.apache.hadoop.ha">ActiveStandbyElector</a>&nbsp;getElector(int&nbsp;i)</pre>
</li>
</ul>
<a name="getZkfc(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getZkfc</h4>
<pre>public&nbsp;org.apache.hadoop.ha.MiniZKFCCluster.DummyZKFC&nbsp;getZkfc(int&nbsp;i)</pre>
</li>
</ul>
<a name="setHealthy(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHealthy</h4>
<pre>public&nbsp;void&nbsp;setHealthy(int&nbsp;idx,
              boolean&nbsp;healthy)</pre>
</li>
</ul>
<a name="setFailToBecomeActive(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFailToBecomeActive</h4>
<pre>public&nbsp;void&nbsp;setFailToBecomeActive(int&nbsp;idx,
                         boolean&nbsp;doFail)</pre>
</li>
</ul>
<a name="setFailToBecomeStandby(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFailToBecomeStandby</h4>
<pre>public&nbsp;void&nbsp;setFailToBecomeStandby(int&nbsp;idx,
                          boolean&nbsp;doFail)</pre>
</li>
</ul>
<a name="setFailToFence(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFailToFence</h4>
<pre>public&nbsp;void&nbsp;setFailToFence(int&nbsp;idx,
                  boolean&nbsp;doFail)</pre>
</li>
</ul>
<a name="setUnreachable(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUnreachable</h4>
<pre>public&nbsp;void&nbsp;setUnreachable(int&nbsp;idx,
                  boolean&nbsp;unreachable)</pre>
</li>
</ul>
<a name="waitForHAState(int, org.apache.hadoop.ha.HAServiceProtocol.HAServiceState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForHAState</h4>
<pre>public&nbsp;void&nbsp;waitForHAState(int&nbsp;idx,
                  <a href="../../../../org/apache/hadoop/ha/HAServiceProtocol.HAServiceState.html" title="enum in org.apache.hadoop.ha">HAServiceProtocol.HAServiceState</a>&nbsp;state)
                    throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Wait for the given HA service to enter the given HA state.
 This is based on the state of ZKFC, not the state of HA service.
 There could be difference between the two. For example,
 When the service becomes unhealthy, ZKFC will quit ZK election and
 transition to HAServiceState.INITIALIZING and remain in that state
 until the service becomes healthy.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="waitForHealthState(int, org.apache.hadoop.ha.HealthMonitor.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForHealthState</h4>
<pre>public&nbsp;void&nbsp;waitForHealthState(int&nbsp;idx,
                      <a href="../../../../org/apache/hadoop/ha/HealthMonitor.State.html" title="enum in org.apache.hadoop.ha">HealthMonitor.State</a>&nbsp;state)
                        throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Wait for the ZKFC to be notified of a change in health state.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="waitForElectorState(int, org.apache.hadoop.ha.ActiveStandbyElector.State)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForElectorState</h4>
<pre>public&nbsp;void&nbsp;waitForElectorState(int&nbsp;idx,
                       org.apache.hadoop.ha.ActiveStandbyElector.State&nbsp;state)
                         throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Wait for the given elector to enter the given elector state.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>idx</code> - the service index (0 or 1)</dd><dd><code>state</code> - the state to wait for</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if it times out, or an exception occurs on one
 of the ZKFC threads while waiting.</dd></dl>
</li>
</ul>
<a name="expireActiveLockHolder(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireActiveLockHolder</h4>
<pre>public&nbsp;void&nbsp;expireActiveLockHolder(int&nbsp;idx)
                            throws org.apache.zookeeper.KeeperException.NoNodeException</pre>
<div class="block">Expire the ZK session of the given service. This requires
 (and asserts) that the given service be the current active.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException.NoNodeException</code> - if no service holds the lock</dd></dl>
</li>
</ul>
<a name="waitForActiveLockHolder(java.lang.Integer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForActiveLockHolder</h4>
<pre>public&nbsp;void&nbsp;waitForActiveLockHolder(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a>&nbsp;idx)
                             throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Wait for the given HA service to become the active lock holder.
 If the passed svc is null, waits for there to be no active
 lock holder.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="expireAndVerifyFailover(int, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>expireAndVerifyFailover</h4>
<pre>public&nbsp;void&nbsp;expireAndVerifyFailover(int&nbsp;fromIdx,
                           int&nbsp;toIdx)
                             throws <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Expires the ZK session associated with service 'fromIdx', and waits
 until service 'toIdx' takes over.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if the target service does not become active</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MiniZKFCCluster.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/hadoop/ha/HealthMonitor.State.html" title="enum in org.apache.hadoop.ha"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/hadoop/ha/NodeFencer.html" title="class in org.apache.hadoop.ha"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/hadoop/ha/MiniZKFCCluster.html" target="_top">Frames</a></li>
<li><a href="MiniZKFCCluster.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
